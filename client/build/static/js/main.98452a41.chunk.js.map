{"version":3,"sources":["components/landing/newimages/helena-lopes-Vrb_vtQAxJU-unsplash.jpg","components/landing/newimages/coplerunning.png","components/landing/newimages/hearts.png","components/landing/newimages/cake2.png","components/landing/newimages/flowers.png","utils/queries.js","utils/mutations.js","utils/auth.js","components/createwedding/createwedding.form.jsx","components/Guests.js","utils/partycontext.js","components/Home.js","components/createuser.jsx","lib/magic.js","lib/UserContext.js","components/email-form.js","components/login.js","components/landing/landing.page.jsx","components/countdown/Clock.component.jsx","components/countdown/Count.component.jsx","components/viewwedding/viewwedding.page.jsx","rose.png","gl.jpg","loc.jpg","clock.jpg","components/GuestLanding.js","components/items.js","components/Nav3.jsx","route/publicRoute.js","route/privateRouteGuest.js","route/privateRouteCouple.js","App.js","reportWebVitals.js","index.js"],"names":["WEDDING_QUERY","gql","GUEST_QUERY","LOGIN_USER","ADD_USER","ADD_GUESTS","ADD_WEDDING","UPDATE_RSVP","UPDATE_MENU","decode","this","getToken","token","organiser","getUser","isTokenExpired","exp","Date","now","localStorage","removeItem","getItem","localUser","JSON","parse","idToken","newuser","setItem","stringify","window","location","assign","useStyles","makeStyles","theme","root","margin","spacing","button","CreateWedding","classes","useState","brideFirstName","brideLastName","groomFirstName","groomLastName","venue","weddingDate","menuChoices","inputFields","setInputField","currentUser","setCurrentUser","setCurrentID","useEffect","Auth","loggedIn","console","log","username","_id","useMutation","addWedding","handleSubmit","error","e","a","preventDefault","variables","bride_first_name","bride_last_name","groom_first_name","groom_last_name","date","menu_choice","wedding_owner","data","handleChangeInput","index","event","target","name","values","value","Container","className","onSubmit","map","inputField","TextField","label","onChange","Button","vareient","color","type","onClick","endIcon","Icon","service","process","REACT_APP_SERVICE_ID","template","REACT_APP_TEMPLATE_ID","user","REACT_APP_USER_ID","Guests","email","rsvp","menu","currentID","addGuests","i","length","handleAddField","handleRemoveField","splice","sendEmail","params","emailjs","send","then","res","alert","catch","err","useQuery","loading","guests","filteredGuestList","filter","guest","IconButton","PartyContext","createContext","usePartyContext","useContext","PartyProvider","children","setOrganiser","Provider","height","image","backgroundRepeat","backgroundColor","palette","grey","backgroundSize","backgroundPosition","paper","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","SignIn","useHistory","password","userFormData","setUserFormData","login","handleInputChange","handleFormSubmit","Grid","container","component","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","Typography","variant","noValidate","required","fullWidth","id","autoFocus","Box","mt","backgroundImage","history","addUser","push","magic","Magic","UserContext","EmailForm","onEmailSubmit","disabled","setEmail","placeholder","size","prefix","Login","setDisabled","setUser","auth","loginWithMagicLink","redirectURI","didToken","fetch","method","headers","Authorization","status","getMetadata","userMetadata","issuer","styles","fontFamily","textAlign","insideStyles","padding","position","fontSize","top","left","transform","paragraphStyle","borderRadius","image1","require","default","image2","image3","image4","image5","Landing","bgImage","strength","style","blur","min","max","renderLayer","percentage","background","to","Clock","deadline","days","setDays","hours","setHours","minutes","setMinutes","seconds","setSeconds","leading0","num","getTimeUntil","time","Math","floor","setInterval","CountDown","props","Callback","weddingData","weddings","wedding","marginBottom","GuestLanding","rsvpState","setRsvpState","menuState","setMenuState","correctGuest","setCorrectGuest","loader","setloader","weddingResult","setweddingResult","searchWedding","guestEmail","update_rsvp","update_menu","correctGuestResult","correctWedding","handleSubmitFood","src","gl","for","vlaue","loc","clock","MenuItems","url","cName","CoupleMenuItem","GuestMenuItem","Nav2","clicked","setClick","userType","setUserType","isUser","guestUser","role","rose","alt","kew","logout","PublicRoute","Component","rest","restricted","render","PrivateRouteGuest","PrivateRouteCouple","httpLink","createHttpLink","uri","authLink","setContext","_","authorization","client","ApolloClient","link","concat","cache","InMemoryCache","App","partycontext","isLoggedIn","userData","ApolloProvider","Nav3","path","exact","Home","ViewWedding","createuser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.98452a41.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/helena-lopes-Vrb_vtQAxJU-unsplash.7d88f2df.jpg\";","export default __webpack_public_path__ + \"static/media/coplerunning.b4122b28.png\";","export default __webpack_public_path__ + \"static/media/hearts.16c27cb5.png\";","export default __webpack_public_path__ + \"static/media/cake2.39671096.png\";","export default __webpack_public_path__ + \"static/media/flowers.a870abbe.png\";","import { gql } from \"@apollo/client\"\n\nexport const WEDDING_QUERY = gql`\n\t{\n\t\tweddings {\n\t\t\t_id\n\t\t\tbride_first_name\n\t\t\tbride_last_name\n\t\t\tgroom_first_name\n\t\t\tgroom_last_name\n\t\t\tdate\n\t\t\tvenue\n\t\t\twedding_owner\n\t\t\tmenu_choice\n\t\t}\n\t}\n`\nexport const QUERY_ME = gql`\n\t{\n\t\tme {\n\t\t\t_id\n\t\t\tusername\n\t\t\temail\n\t\t\twedding\n\t\t}\n\t}\n`\n\nexport const ORG_QUERY = gql`\n\tquery finduser($userId: String) {\n\t\tuser(userId: $userId){\n\t\t\tusername\n\t\t\t_id\n\t\t\t\n\t\t\t\t\t\t\n\t\t}\n\t}\n`\n\nexport const GUEST_QUERY = gql`\nquery getGuests{\n\tguests{\n\t\tname\n\t\temail\n\t\trsvp\n\t\tmenu\n\t\t_id\n\t\twedding_owner\n\t}\n}\n`\n\n","import { gql } from \"@apollo/client\"\n\nexport const LOGIN_USER = gql`\n\tmutation login($email: String!, $password: String!) {\n\t\tlogin(email: $email, password: $password) {\n\t\t\ttoken\n\t\t\tuser {\n\t\t\t\t_id\n\t\t\t\tusername\n\t\t\t}\n\t\t}\n\t}\n`\n\nexport const ADD_USER = gql`\n\tmutation addUser(\n\t\t$username: String!\n\t\t$email: String!\n\t\t$password: String!\n\t) {\n\t\taddUser(\n\t\t\tusername: $username\n\t\t\temail: $email\n\t\t\tpassword: $password\n\t\t) {\n\t\t\ttoken\n\t\t\tuser {\n\t\t\t\t_id\n\t\t\t\tusername\n\t\t\t}\n\t\t}\n\t}\n`\n\nexport const ADD_GUESTS = gql`\n\tmutation addGuests(\n\t\t$name: String!\n\t\t$email: String!\n\t\t$rsvp: String!\n\t\t$menu: String!\n\t\t$wedding_owner: String!\n\t) {\n\t\taddGuests(\n\t\t\tname: $name\n\t\t\temail: $email\n\t\t\trsvp: $rsvp\n\t\t\tmenu: $menu\n\t\t\twedding_owner: $wedding_owner\n\t\t)\n\t\t{\n\t\t\tname \n\t\t\t}\n\t\t}\n\t\n`\nexport const ADD_WEDDING = gql`\nmutation addWedding ( \n\t$bride_first_name: String\n    $bride_last_name: String\n\t$groom_first_name: String\n\t$groom_last_name: String\n\t$date: String\n\t$venue: String\n\t$menu_choice: [String]\n\t$wedding_owner: String\n)\n{ addWedding(bride_first_name: $bride_first_name, bride_last_name: $bride_last_name, groom_first_name: $groom_first_name, groom_last_name: $groom_last_name, date: $date, venue: $venue, menu_choice: $menu_choice, wedding_owner: $wedding_owner)\n{\n\tbride_first_name\n}\n}\n\n`\n\n\nexport const UPDATE_RSVP = gql`\nmutation update_rsvp (\n\t$rsvp:String, $email:String\n){\n\tupdate_rsvp(rsvp: $rsvp, email:$email)\n\t{\n\t\tname\n\t}\n}\n`\n\nexport const UPDATE_MENU= gql`\nmutation update_menu(\n\t$menu:String, $email:String)\n\t{\n\t\tupdate_menu(menu:$menu, email:$email)\n\t\t{\n\t\t\tname\n\t\t}\n\t}\n\n\n`","import decode from \"jwt-decode\"\n\nclass AuthService {\n\tgetProfile() {\n\t\treturn decode(this.getToken())\n\t}\n\n\tloggedIn() {\n\t\tconst token = this.getToken()\n\t\tconst organiser = this.getUser()\n\t\treturn {\n\t\t\ttoken:\n\t\t\t\ttoken && !this.isTokenExpired(token) ? true : false,\n\t\t\torganiser: organiser,\n\t\t}\n\t}\n\n\tisTokenExpired(token) {\n\t\t// Decode the token to get its expiration time that was set by the server\n\t\tconst decoded = decode(token)\n\t\t// If the expiration time is less than the current time (in seconds), the token is expired and we return `true`\n\t\tif (decoded.exp < Date.now() / 1000) {\n\t\t\tlocalStorage.removeItem(\"id_token\")\n\t\t// TODO added this line to make sure if the user is logged out the data is removed\n\t\t\tlocalStorage.removeItem(\"user\")\n\t\t\treturn true\n\t\t}\n\t\t// If token hasn't passed its expiration time, return `false`\n\t\treturn false\n\t}\n\n\tgetToken() {\n\t\treturn localStorage.getItem(\"id_token\")\n\t}\n\n\tgetUser() {\n\t\tconst localUser = localStorage.getItem(\"user\")\n\t\tconst organiser = JSON.parse(localUser)\n\t\treturn organiser\n\t}\n\n\tlogin(idToken, newuser) {\n\t\tlocalStorage.setItem(\"id_token\", idToken)\n\t\tlocalStorage.setItem(\"user\", JSON.stringify(newuser))\n\n\t\twindow.location.assign(\"/\")\n\t}\n\n\tlogout() {\n\t\tlocalStorage.removeItem(\"id_token\")\n\t\t// TODO added this line to make sure if the user is logged out the data is removed\n\t\tlocalStorage.removeItem(\"user\")\n\t\tlocalStorage.removeItem(\"guest\")\n\t\t// window.location.assign(\"/\")\n\t}\n}\n\nexport default new AuthService()\n","import React, { useState, useEffect } from \"react\"\nimport Container from \"@material-ui/core/Container\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport RemoveIcon from \"@material-ui/icons/Remove\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport Icon from \"@material-ui/core/Icon\"\nimport emailjs from \"emailjs-com\"\nimport { WEDDING_QUERY } from \"../../utils/queries\"\nimport { useMutation } from \"@apollo/client\"\nimport { ADD_WEDDING } from \"../../utils/mutations\"\nimport Auth from \"../../utils/auth\"\n\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport (\"./createwedding.css\")\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\t\"& .MuiTextField-root\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n\n\tbutton: {\n\t\tmargin: theme.spacing(1),\n\t},\n}))\n\nfunction CreateWedding() {\n\tconst classes = useStyles()\n\tconst [inputFields, setInputField] = useState([\n\t\t{\n\t\t\tbrideFirstName: \"\",\n\t\t\tbrideLastName: \"\",\n\t\t\tgroomFirstName: \"\",\n\t\t\tgroomLastName: \"\",\n\t\t\tvenue: \"\",\n\t\t\tweddingDate: \"\",\n\t\t\tmenuChoices: \"\",\n\t\t},\n\t])\n\tconst [organiserState, setOrganiserSate] = useState(null)\n\tconst [currentUser, setCurrentUser] = useState(null)\n\tconst [ currentID, setCurrentID] = useState(null)\n\tuseEffect(() => {\n\t\tconst { organiser } = Auth.loggedIn()\n\t\tconsole.log(\n\t\t\t\"this is the organiser from local storage\",\n\t\t\torganiser\n\t\t)\n\t\tsetCurrentUser(organiser.username)\n\t\tsetCurrentID(organiser._id)\n\t}, [])\n\tconst [addWedding, {error}] = useMutation(ADD_WEDDING)\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault()\n\t\t// console.log(\"input fields\", inputFields)\n\t\tlet i = 0\n\t\ttry{\n\t\t\tconst { data } = await addWedding({variables:{\n\t\t\t\tbride_first_name:inputFields[i].bride_first_name,\n\t\t\t\tbride_last_name:inputFields[i].bride_last_name,\n\t\t\t\tgroom_first_name:inputFields[i].groom_first_name,\n\t\t\t\tgroom_last_name:inputFields[i].groom_last_name,\n\t\t\t\tvenue:inputFields[i].venue,\n\t\t\t\tdate:inputFields[i].date,\n\t\t\t\tmenu_choice:inputFields[i].menu_choice,\n\t\t\t\twedding_owner:currentUser\n\t\t\t\n\t\t}})\n\t\twindow.location.assign(\"/viewwedding\")\n\t\tconsole.log(data)\n\n\t} catch(err){\n\t\tconsole.log (err)}\n\t}\n\n\t\n\n\tconst handleChangeInput = (index, event) => {\n\t\tconsole.log(index, event.target.name)\n\t\tconst values = [...inputFields]\n\t\tvalues[index][event.target.name] = event.target.value\n\t\tsetInputField(values)\n\t}\n\n\t// const handleAddField = () => {\n\t// \tsetInputField([\n\t// \t\t...inputFields,\n\t// \t\t{\n\t// \t\t\tfirstName: \"\",\n\t// \t\t\tlastName: \"\",\n\t// \t\t\temail: \"\",\n\t// \t\t\trsvp: \"\",\n\t// \t\t\tmenue: \"\",\n\t// \t\t},\n\t// \t])\n\t// }\n\n\t// const handleRemoveField = (index) => {\n\t// \tconst values = [...inputFields]\n\t// \tvalues.splice(index, 1)\n\t// \tsetInputField(values)\n\t// }\n\n\treturn (\n\t\t<Container className=\"bigcontainer\">\n\t\t\t<h1 className=\"heading\"> Fill in your wedding details</h1>\n\t\t\t<form\n\t\t\t\tclassName={classes.root}\n\t\t\t\tonSubmit={handleSubmit}\n\t\t\t>\n\t\t\t\t{inputFields.map((inputField, index) => (\n\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"bride_first_name\"\n\t\t\t\t\t\t\t\tlabel=\"Bride's First Name\"\n\t\t\t\t\t\t\t\tvalue={inputField.bride_first_name}\n\t\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"bride_last_name\"\n\t\t\t\t\t\t\t\tlabel=\"Bride's Last Name\"\n\t\t\t\t\t\t\t\tvalue={inputField.bride_last_name}\n\t\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"groom_first_name\"\n\t\t\t\t\t\t\t\tlabel=\"Groom's First Name\"\n\t\t\t\t\t\t\t\tvalue={inputField.groom_first_name}\n\t\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tname=\"groom_last_name\"\n\t\t\t\t\t\t\t\tlabel=\"Groom's Last Name\"\n\t\t\t\t\t\t\t\tvalue={inputField.groom_last_name}\n\t\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t    <TextField\n    \t\t\t\t\t\t\tname=\"venue\"\n    \t\t\t\t\t\t\tlabel=\"Wedding Venue\"\n    \t\t\t\t\t\t\tvalue={inputField.venue}\n    \t\t\t\t\t\t\tonChange={(event) =>\n    \t\t\t\t\t\t\t\thandleChangeInput(index, event)\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n                        <div>\n\t\t\t\t\t\t    <TextField\n    \t\t\t\t\t\t\tname=\"date\"\n    \t\t\t\t\t\t\tlabel=\"Wedding Date\"\n    \t\t\t\t\t\t\tvalue={inputField.date}\n    \t\t\t\t\t\t\tonChange={(event) =>\n    \t\t\t\t\t\t\t\thandleChangeInput(index, event)\n    \t\t\t\t\t\t\t}\n    \t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"menu_choice\"\n\t\t\t\t\t\t\tlabel=\"Menu Choices\"\n\t\t\t\t\t\t\tvalue={inputField.menu_choice}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* \n                   <IconButton\n                   onClick={()=> handleRemoveField(index)}>\n                       <RemoveIcon />\n                   </IconButton>\n                   <IconButton\n                   onClick={() => handleAddField()}>\n                       <AddIcon />\n                   </IconButton> */}\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t<Button\n\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\tvareient=\"contained\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tendIcon={<Icon>favorite</Icon>}\n\t\t\t\t>\n\t\t\t\t\tcreate your wedding\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t</Container>\n\t)\n}\n\nexport default CreateWedding\n","import React, { useState, useEffect } from \"react\"\nimport Container from \"@material-ui/core/Container\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Button from \"@material-ui/core/Button\"\nimport IconButton from \"@material-ui/core/IconButton\"\nimport RemoveIcon from \"@material-ui/icons/Remove\"\nimport AddIcon from \"@material-ui/icons/Add\"\nimport Icon from \"@material-ui/core/Icon\"\nimport emailjs from \"emailjs-com\"\nimport Auth from \"../utils/auth\"\nimport {\n\tWEDDING_QUERY,\n\tGUEST_QUERY,\n} from \"../utils/queries\"\nimport { ADD_GUESTS } from \"../utils/mutations\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { useQuery, useMutation } from \"@apollo/client\"\n\nconst service = process.env.REACT_APP_SERVICE_ID\nconst template = process.env.REACT_APP_TEMPLATE_ID\nconst user = process.env.REACT_APP_USER_ID\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\t\"& .MuiTextField-root\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n\n\tbutton: {\n\t\tmargin: theme.spacing(1),\n\t},\n}))\n\nfunction Guests() {\n\tconst classes = useStyles()\n\n\tconst [inputFields, setInputField] = useState([\n\t\t{ name: \"\", email: \"\", rsvp: \"\", menu: \"\" },\n\t])\n\n\tconst [organiserState, setOrganiserState] = useState(null)\n\tconst [currentUser, setCurrentUser] = useState(null)\n\tconst [currentID, setCurrentID] = useState(null)\n\tconst [brideFirstName, setBrideFirstName] = useState(null)\n\tconst [groomFirstName, setGroomFirstName] = useState(null)\n\tconst [weddingWhen, setWeddingWhen] = useState(null)\n\tconst [weddingVenue, setWeddingVenue] = useState(null)\n\n\tuseEffect(() => {\n\t\tconst { organiser } = Auth.loggedIn()\n\t\tconsole.log(\n\t\t\t\"this is the organiser from local storage\",\n\t\t\torganiser\n\t\t)\n\t\tsetCurrentUser(organiser.username)\n\t\tsetCurrentID(organiser._id)\n\t}, [])\n\n\tconst [addGuests, { error }] = useMutation(ADD_GUESTS)\n\n\t// this is the section to fetch wedding data to populate in emails\n\n\t// \tconst weddingResults = useQuery(WEDDING_QUERY)\n\t// \tconsole.log(\n\t// \t\t\"the data from the BANANA is \",\n\t// \t\tweddingResults.data\n\t// \t)\n\t// \t const weddingData = weddingResults.data.weddings.filter((wedding) => {\n\t// \t// // \tconst weddingID = \"61110f69077f5da76492affa\"\n\t// \t\treturn wedding.wedding_owner == currentUser\n\t// \t})\n\t// \tconsole.log(\"this is the filtered wedding\", weddingData)\n\t// setBrideFirstName(weddingData[0].bride_first_name)\n\t// console.log(\"the bride is ..... ::\",brideFirstName)\n\n\t// handle the submit form\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault()\n\n\t\tlet i\n\t\tfor (i = 0; i < inputFields.length; i++) {\n\t\t\tconsole.log(\"i=\", i, \"input= \", inputFields[i])\n\t\t\ttry {\n\t\t\t\tconst { data } = await addGuests({\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tname: inputFields[i].name,\n\t\t\t\t\t\temail: inputFields[i].email,\n\t\t\t\t\t\trsvp: inputFields[i].rsvp,\n\t\t\t\t\t\tmenu: inputFields[i].menu,\n\t\t\t\t\t\twedding_owner: currentUser,\n\t\t\t\t\t},\n\t\t\t\t})\n\n\t\t\t\tconsole.log(data)\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst handleChangeInput = (index, event) => {\n\t\tconsole.log(index, event.target.name)\n\t\tconst values = [...inputFields]\n\t\tvalues[index][event.target.name] = event.target.value\n\t\tsetInputField(values)\n\t}\n\n\tconst handleAddField = () => {\n\t\tsetInputField([\n\t\t\t...inputFields,\n\t\t\t{\n\t\t\t\tname: \"\",\n\t\t\t\temail: \"\",\n\t\t\t\trsvp: \"\",\n\t\t\t\tmenu: \"\",\n\t\t\t},\n\t\t])\n\t}\n\n\tconst handleRemoveField = (index) => {\n\t\tconst values = [...inputFields]\n\t\tvalues.splice(index, 1)\n\t\tsetInputField(values)\n\t}\n\n\tfunction sendEmail(index) {\n\t\t// function to send email to each guest based on their index in the table\n\t\tconst values = [...inputFields]\n\t\tconst email = values[index].email\n\t\tconst name = values[index].name\n\n\t\tconst params = {\n\t\t\tname: name,\n\t\t\temail: email,\n\t\t}\n\n\t\temailjs\n\t\t\t.send(service, template, params, user)\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res)\n\t\t\t\talert(\"email sent thank you\")\n\t\t\t})\n\t\t\t.catch((err) => console.log(err))\n\t}\n\n\tconsole.log(\"this is the current user\", currentUser)\n\n\tconst { loading, data } = useQuery(GUEST_QUERY)\n\tif (loading) {\n\t\treturn <p>Loading ....</p>\n\t}\n\n\tconsole.log(\"the guest list is\", data.guests)\n\n\tconst filteredGuestList = data.guests.filter((guest) => {\n\t\treturn guest.wedding_owner == currentUser\n\t})\n\n\tconsole.log(\n\t\t\"the filtered guest list is\",\n\t\tfilteredGuestList\n\t)\n\n\treturn (\n\t\t<Container>\n\t\t\t<h1> Your Guest List</h1>\n\t\t\t<p> my test user id is</p>\n\t\t\t<p>the organiser is {currentUser} </p>\n\t\t\t<p> the user id is {currentID}</p>\n\n\t\t\t<form\n\t\t\t\tclassName={classes.root}\n\t\t\t\t\n\t\t\t>\n\t\t\t\t{filteredGuestList.map((guest, index) => (\n\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tlabel=\"Guest Name\"\n\t\t\t\t\t\t\tvalue={guest.name}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\tvalue={guest.email}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"rsvp\"\n\t\t\t\t\t\t\tlabel=\"RSVP\"\n\t\t\t\t\t\t\tvalue={guest.rsvp}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"menu\"\n\t\t\t\t\t\t\tlabel=\"Menu Choice\"\n\t\t\t\t\t\t\tvalue={guest.menu}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\tvareient=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={(event) => sendEmail(index)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSend email\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => handleRemoveField(index)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RemoveIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton onClick={() => handleAddField()}>\n\t\t\t\t\t\t\t<AddIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t{/* <Button \n            className={classes.button}\n            vareient=\"contained\" \n            color=\"secondary\" \n            type=\"submit\" \n            onClick={handleSubmit}\n            endIcon={<Icon>save</Icon>}>\n                Save Guest List\n                </Button> */}\n\n\t\t\t\t{/* </form> */}\n\t\t\t\t{/* <form className={classes.root} onSubmit={handleSubmit}> */}\n\t\t\t\t{inputFields.map((inputField, index) => (\n\t\t\t\t\t<div key={index}>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\tlabel=\"Guest Name\"\n\t\t\t\t\t\t\tvalue={inputField.name}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\tvalue={inputField.email}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"rsvp\"\n\t\t\t\t\t\t\tlabel=\"RSVP\"\n\t\t\t\t\t\t\tvalue={inputField.rsvp}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tname=\"menu\"\n\t\t\t\t\t\t\tlabel=\"Menu Choice\"\n\t\t\t\t\t\t\tvalue={inputField.menu}\n\t\t\t\t\t\t\tonChange={(event) =>\n\t\t\t\t\t\t\t\thandleChangeInput(index, event)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\tvareient=\"contained\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={(event) => sendEmail(index)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSend email\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tonClick={() => handleRemoveField(index)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<RemoveIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t<IconButton onClick={() => handleAddField()}>\n\t\t\t\t\t\t\t<AddIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t\t<Button\n\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\tvareient=\"contained\"\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\tonClick={handleSubmit}\n\t\t\t\t\tendIcon={<Icon>save</Icon>}\n\t\t\t\t>\n\t\t\t\t\tSave Guest List\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t</Container>\n\t)\n}\n\nexport default Guests","import React,{createContext, useContext, useState} from \"react\"\n\n\nexport const PartyContext = createContext(null);\n\n\nexport const usePartyContext = () => useContext(PartyContext);\n\nexport const PartyProvider =({children}) =>{\n\n const [ organiser, setOrganiser] = useState(null) \n \n \n return (\n     <PartyContext.Provider value={{organiser, setOrganiser}}>\n         {children}\n     </PartyContext.Provider>\n )\n\n}\n\n","import React, {\n\tuseEffect,\n\tuseState,\n\tuseContext,\n} from \"react\"\nimport Avatar from \"@material-ui/core/Avatar\"\nimport Button from \"@material-ui/core/Button\"\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Paper from \"@material-ui/core/Paper\"\nimport Box from \"@material-ui/core/Box\"\nimport Grid from \"@material-ui/core/Grid\"\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { useMutation } from \"@apollo/client\"\nimport { LOGIN_USER } from \"../utils/mutations\"\nimport Auth from \"../utils/auth\"\nimport { usePartyContext } from \"../utils/partycontext\"\nimport { useHistory } from \"react-router-dom\"\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\theight: \"100vh\",\n\t},\n\timage: {\n\t\t\n\t\t\n\t\tbackgroundRepeat: \"no-repeat\",\n\t\tbackgroundColor:\n\t\t\ttheme.palette.type === \"light\"\n\t\t\t\t? theme.palette.grey[50]\n\t\t\t\t: theme.palette.grey[900],\n\t\tbackgroundSize: \"cover\",\n\t\tbackgroundPosition: \"center\",\n\t},\n\tpaper: {\n\t\tmargin: theme.spacing(8, 4),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(1),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}))\n\nexport default function SignIn() {\n\tconst classes = useStyles()\n\tconst history = useHistory()\n\tconst { organiser, setOrganiser } = usePartyContext()\n\t\n\n\t// console.log(\"first set of organisers=\" , organiser)\n\n\tconst [userFormData, setUserFormData] = useState({\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t})\n\n\tconst [login, { error, data }] = useMutation(LOGIN_USER)\n\n\tconst handleInputChange = (event) => {\n\t\tconst { name, value } = event.target\n\t\tsetUserFormData({ ...userFormData, [name]: value })\n\t\tsetOrganiser(value)\n\t\t// console.log(\"data is\", userFormData)\n\t}\n\n\tconst handleFormSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\t// console.log(\"the form data is\", userFormData)\n\n\t\t// const form = event.currentTarget;\n\t\t// if (form.checkValidity()===false){\n\t\t//   event.preventDefault();\n\t\t//   event.stopPropagation();\n\t\t// }\n\t\ttry {\n\t\t\tconst { data } = await login({\n\t\t\t\tvariables: { ...userFormData },\n\t\t\t})\n\t\t\tconst newuser = data.login.user\n\t\t\tconsole.log(\"the new user is \", newuser)\n\t\t\tsetOrganiser(newuser)\n\t\t\t// console.log(\"the organiser state is \", organiser)\n\t\t\t//  console.log(\"context user ---- \", user)\n\t\t\t// \t\"this is the data coming back from the login\",\n\t\t\t// \tdata\n\t\t\t// )\n\n\t\t\tAuth.login(data.login.token, newuser)\n\t\t\t// history.push(\"/guest\")\n\t\t} catch (e) {\n\t\t\tconsole.error(e)\n\t\t}\n\n\t\tsetUserFormData({\n\t\t\temail: \"\",\n\t\t\tpassword: \"\",\n\t\t})\n\t}\n\n\treturn (\n\t\t<Grid\n\t\t\tcontainer\n\t\t\tcomponent=\"main\"\n\t\t\tclassName={classes.root}\n\t\t>\n\t\t\t<CssBaseline />\n\t\t\t<Grid\n\t\t\t\titem\n\t\t\t\txs={false}\n\t\t\t\tsm={4}\n\t\t\t\tmd={7}\n\t\t\t\tclassName={classes.image}\n\t\t\t/>\n\t\t\t<Grid\n\t\t\t\titem\n\t\t\t\txs={12}\n\t\t\t\tsm={8}\n\t\t\t\tmd={5}\n\t\t\t\tcomponent={Paper}\n\t\t\t\televation={6}\n\t\t\t\tsquare\n\t\t\t>\n\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t\t</Avatar>\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t\tSign in\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<form\n\t\t\t\t\t\tclassName={classes.form}\n\t\t\t\t\t\tnoValidate\n\t\t\t\t\t\tonSubmit={handleFormSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email Address\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tvalue={userFormData.email}\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tvalue={userFormData.password}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSign In\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Grid container></Grid>\n\t\t\t\t\t\t<Box mt={5}></Box>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}","import React, {\n\tuseEffect,\n\tuseState,\n\tuseContext,\n} from \"react\"\nimport Avatar from \"@material-ui/core/Avatar\"\nimport Button from \"@material-ui/core/Button\"\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\nimport TextField from \"@material-ui/core/TextField\"\nimport Paper from \"@material-ui/core/Paper\"\nimport Box from \"@material-ui/core/Box\"\nimport Grid from \"@material-ui/core/Grid\"\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\"\nimport Typography from \"@material-ui/core/Typography\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport { useMutation } from \"@apollo/client\"\nimport { ADD_USER } from \"../utils/mutations\"\nimport Auth from \"../utils/auth\"\nimport { useHistory } from \"react-router-dom\"\n// import { usePartyContext } from \"../utils/partycontext\"\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\theight: \"100vh\",\n\t},\n\timage: {\n\t\tbackgroundImage:\n\t\t\t`url(\"./jeremy-wong-weddings-K8KiCHh4WU4-unsplash.jpg\")`,\n\t\tbackgroundRepeat: \"no-repeat\",\n\t\tbackgroundColor:\n\t\t\ttheme.palette.type === \"light\"\n\t\t\t\t? theme.palette.grey[50]\n\t\t\t\t: theme.palette.grey[900],\n\t\tbackgroundSize: \"cover\",\n\t\tbackgroundPosition: \"center\",\n\t},\n\tpaper: {\n\t\tmargin: theme.spacing(8, 4),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(1),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}))\n\nexport default function SignIn() {\n\tconst classes = useStyles()\n\tconst history = useHistory()\n\t// const { organiser, setOrganiser } = usePartyContext()\n\n\t// console.log(\"first set of organisers=\" , organiser)\n\n\tconst [userFormData, setUserFormData] = useState({\n\t\tusername: \"\",\n        email: \"\",\n\t\tpassword: \"\",\n\t})\n\n    const [addUser,{error}] = useMutation(ADD_USER)\n\t// const [login, { error, data }] = useMutation(LOGIN_USER)\n\n\tconst handleInputChange = (event) => {\n\t\tconst { name, value } = event.target\n\t\tsetUserFormData({ ...userFormData, [name]: value })\n\t\t// setOrganiser(value)\n\t\t// console.log(\"data is\", userFormData)\n\t}\n\n\tconst handleFormSubmit = async (event) => {\n\t\tevent.preventDefault()\n\t\tconsole.log(\"the form data is\", userFormData)\n\n\t\ttry{\n            const {data} = await addUser({\n                variables:{...userFormData}\n            })\n            history.push(\"/home\")\n        } catch (error){\n            console.log(error)\n        }\n\t\t\n\n\t\t// setUserFormData({\n\t\t// \tusername: \"\",\n        //     email: \"\",\n\t\t// \tpassword: \"\",\n\t\t// })\n\t}\n\n\treturn (\n\t\t<Grid\n\t\t\tcontainer\n\t\t\tcomponent=\"main\"\n\t\t\tclassName={classes.root}\n\t\t>\n\t\t\t<CssBaseline />\n\t\t\t<Grid\n\t\t\t\titem\n\t\t\t\txs={false}\n\t\t\t\tsm={4}\n\t\t\t\tmd={7}\n\t\t\t\tclassName={classes.image}\n\t\t\t/>\n\t\t\t<Grid\n\t\t\t\titem\n\t\t\t\txs={12}\n\t\t\t\tsm={8}\n\t\t\t\tmd={5}\n\t\t\t\tcomponent={Paper}\n\t\t\t\televation={6}\n\t\t\t\tsquare\n\t\t\t>\n\t\t\t\t<div className={classes.paper}>\n\t\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t\t<LockOutlinedIcon />\n\t\t\t\t\t</Avatar>\n\t\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t\tCreate a new account\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<form\n\t\t\t\t\t\tclassName={classes.form}\n\t\t\t\t\t\tnoValidate\n\t\t\t\t\t\tonSubmit={handleFormSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\tlabel=\"User Name\"\n\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tvalue={userFormData.username}\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t/>\n                        \n                        \n                        <TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\tlabel=\"Email Address\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tvalue={userFormData.email}\n\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tmargin=\"normal\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\tvalue={userFormData.password}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tSign UP\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Grid container></Grid>\n\t\t\t\t\t\t<Box mt={5}></Box>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t</Grid>\n\t)\n}","import { Magic } from 'magic-sdk';\n\n\nexport const magic = new Magic(process.env.REACT_APP_MAGIC_KEY);","import { createContext } from 'react';\n\nexport const UserContext = createContext(null);","import { useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nconst useStyles = makeStyles((theme) => ({\n    button: {\n      margin: theme.spacing(1),\n    },\n  }));\n  \nconst EmailForm = ({ onEmailSubmit, disabled }) => {\n    const [email, setEmail] = useState('');\n    const classes = useStyles();\n    console.log(\"email is:    \", email)\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        onEmailSubmit(email);\n        localStorage.setItem(\"guest\", email)\n    };\n\n    return (\n        <>\n            <form onSubmit={handleSubmit}>\n                <h3 className='form-header'>Login</h3>\n                <div className='input-wrapper'>\n                    <input\n                        placeholder='Enter your email'\n                        size='sm'\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                        prefix={<div type='' size={23} color={'#000'} />}\n                    />\n                </div>\n                <div>\n                    <Button\n                    type= \"submit\"\n                    variant=\"contained\"\n                    color=\"default\"\n                    className={classes.button}\n                    >\n                        Send Magic Link\n                    </Button>\n                </div>\n            </form>\n            <style>{`\n        form,\n        label {\n          display: flex;\n          flex-flow: column;\n          text-align: center;\n        }\n        .form-header {\n          font-size: 22px;\n          margin: 25px 0;\n        }\n        .input-wrapper {\n          width: 80%;\n          margin: 0 auto 20px;\n        }\n        \n      `}</style>\n        </>\n    );\n};\n\nexport default EmailForm;","import { useState, useEffect, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { magic } from '../lib/magic';\nimport { UserContext } from '../lib/UserContext';\nimport EmailForm from './email-form';\nimport SocialLogins from './social-logins';\n\nconst Login = () => {\n  const history = useHistory();\n  const [disabled, setDisabled] = useState(false);\n  const [user, setUser] = useContext(UserContext);\n\n  // If user is already logged in, redirect to profile page\n  useEffect(() => {\n    user && user.issuer && history.push('/login');\n  }, [user, history]);\n\n  async function handleLoginWithEmail(email) {\n    try {\n      setDisabled(true); // disable login button to prevent multiple emails from being triggered\n\n      // Trigger Magic link to be sent to user\n      let didToken = await magic.auth.loginWithMagicLink({\n        email,\n        // redirectURI: history.push('/guestlanding'),\n        redirectURI: history.push(\"/guestlanding\")\n         // optional redirect back to your app after magic link is clicked\n        })\n\n      // console.log(\"email is:   \",email);\n       localStorage.setItem(\"guest\", email)\n      \n\n      // Validate didToken with server\n      const res = await fetch(`${process.env.REACT_APP_MAGIC_KEY}/api/login`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + didToken,\n        },\n      });\n\n      if (res.status === 200) {\n        // Set the UserContext to the now logged in user\n        let userMetadata = await magic.user.getMetadata();\n        await setUser(userMetadata);\n        // history.push('/profile');\n      }\n    } catch (error) {\n      setDisabled(false); // re-enable login button - user may have requested to edit their email\n      console.log(error);\n    }\n  }\n\n  async function handleLoginWithSocial(provider) {\n    await magic.oauth.loginWithRedirect({\n      provider,\n      redirectURI: new URL('/callback', window.location.origin).href, // required redirect to finish social login\n    });\n  }\n\n  return (\n    <>\n      <div className='login'>\n        <EmailForm disabled={disabled} onEmailSubmit={handleLoginWithEmail} />\n        \n      </div>\n      <style>{`\n        .login {\n          max-width: 20rem;\n          margin: 40px auto 0;\n          padding: 1rem;\n          border: 1px solid #dfe1e5;\n          border-radius: 4px;\n          text-align: center;\n          box-shadow: 0px 0px 6px 6px #f7f7f7;\n          box-sizing: border-box;\n        }\n      `}</style>\n    </>\n  );\n};\n\nexport default Login;","import React from \"react\"\nimport { Parallax, Background } from \"react-parallax\"\nimport { Link } from \"react-router-dom\"\n\nconst styles = {\n\tfontFamily: \"sans-serif\",\n\ttextAlign: \"center\",\n}\n\nconst insideStyles = {\n\t// background: \"white\",\n\tpadding: 20,\n\tposition: \"absolute\",\n\tfontFamily: \"ballada\",\n\tcolor: \"palevioletred\",\n\tfontSize: \"5rem\",\n    width:\"100vw\",\n\ttop: \"50%\",\n\tleft: \"50%\",\n\ttransform: \"translate(-50%,-50%)\",\n}\n\nconst paragraphStyle = {\n\tpadding: 10,\n\tposition: \"absolute\",\n\tcolor: \"white\",\n\tbackgroundColor: \"palevioletred\",\n    borderRadius:\"25px\",\n\tfontSize: \"1rem\",\n\ttop: \"90%\",\n\tleft: \"50%\",\n\ttransform: \"translate(-50%,-70%)\",\n}\n\n\nconst image1 =\n\trequire(\"./newimages/helena-lopes-Vrb_vtQAxJU-unsplash.jpg\").default\n\nconst image2 =\n\trequire(\"./newimages/coplerunning.png\").default\nconst image3 =\n\trequire(\"./newimages/hearts.png\").default\nconst image4 =\n\trequire(\"./newimages/cake2.png\").default\n\nconst image5 = require(\"./newimages/flowers.png\").default\n\n\n\n\n    const Landing = () => {\n        return (\n            <div>\n                <Parallax\n                    // blur={{min:-15, max:15}}\n                    bgImage={\n                        image5\n                    }\n                    strength={-200}\n                >\n                    <div style={{ height: \"140vh\" }} />\n                    <h1 style={insideStyles}>The Big Day</h1>\n                </Parallax>\n                {/* <h1>\n                    {\" \"}\n                    ------------------------------------------------\n                </h1> */}\n                <div style={styles}>\n                    <Parallax bgImage={image1} strength={500}>\n                        <div style={{ height: \"100vh\" }}>\n                            <div style={insideStyles}>\n                                We are here to help!\n                            </div>\n                            <div style={paragraphStyle}>\n                                <p>\n                                    Planning a wedding can be a very magical but\n                                    strssful time.\n                                </p>\n                                <p>\n                                    {\" \"}\n                                    Let us take the stress out of it for you and\n                                    leave you to enjoy the magic\n                                </p>\n                            </div>\n                        </div>\n                    </Parallax>\n                    {/* <h2>| | |</h2> */}\n                    <Parallax\n                        bgImage={image2}\n                        blur={{ min: -1, max: 3 }}\n                    >\n                        <div style={{ height:\"120vh\" }}>\n                            <div style={insideStyles}>\n                                Send it in an Email\n                            </div>\n                            <div style={paragraphStyle}>\n                            <p>Save time (and the planet) and send all your invites electronically from one place</p> \n                            </div>\n                        </div>\n                    </Parallax>\n                    {/* <h2>| | |</h2> */}\n                    <Parallax bgImage={image3} strength={1000}>\n    \n                    <div style={{ height: 500 }}>\n                            <div style={insideStyles}>Track it all</div>\n                            <div style={paragraphStyle}>\n                            <p>For your peace of mind, track your guests' RSVPs and Menu choices from our app</p>\n                            </div>\n                        </div>\n                        \n                    </Parallax>\n                    {/* <h2>| | |</h2> */}\n                    <Parallax\n                        bgImage={image4}\n                        strength={200}\n                        \n                        renderLayer={(percentage) => (\n                            <div>\n                               \n                                    <div\n                                        style={{\n                                            position: \"absolute\",\n                                            background: `rgba(255, 125, 0, ${\n                                                percentage * 1\n                                            })`,\n                                            left: \"50%\",\n                                            top: \"50%\",\n                                            borderRadius: \"50%\",\n                                            transform: \"translate(-50%,-50%)\",\n                                            width: percentage * 500,\n                                            height: percentage * 500,\n                                        }}\n                                    />\n                                \n                            </div>\n                        )}\n                    >\n                        <div style={{ height: 1000 }}>\n                            <div style={insideStyles}> <Link to=\"/createuser\">Sign up now</Link></div>\n                        </div>\n                    </Parallax>\n                    {/* <h2>| | |</h2> */}\n                    {/* <Parallax strength={500}>\n                        <Background className=\"custom-bg\">\n                            <div\n                                style={{\n                                    height: 2000,\n                                    width: 2000,\n                                    backgroundImage:\n                                        \"url('https://i.imgur.com/8CV5WAB.png')\",\n                                }}\n                            />\n                        </Background>\n                        <div>\n                            <br />\n                            custom background component\n                            <br />\n                            <br />\n                            custom background component\n                            <br />\n                            <br />\n                            custom background component\n                            <br />\n                            <br />\n                        </div>\n                    </Parallax> */}\n                    <div style={{ height: 500 }} />\n                    <h2>{\"\\u2728\"}</h2>\n                </div>\n            </div>\n        )\n    }\n\n\n\n\n\nexport default Landing","import React, { useEffect, useState } from \"react\";\n\nconst Clock = ({ deadline }) => {\n  const [days, setDays] = useState(0);\n  const [hours, setHours] = useState(0);\n  const [minutes, setMinutes] = useState(0);\n  const [seconds, setSeconds] = useState(0);\n\n  const leading0 = (num) => {\n    return num < 10 ? \"0\" + num : num;\n  };\n\n  const getTimeUntil = (deadline) => {\n    const time = Date.parse(deadline) - Date.parse(new Date());\n    if (time < 0) {\n      setDays(0);\n      setHours(0);\n      setMinutes(0);\n      setSeconds(0);\n    } else {\n      setDays(Math.floor(time / (1000 * 60 * 60 * 24)));\n      setHours(Math.floor((time / (1000 * 60 * 60)) % 24));\n      setMinutes(Math.floor((time / 1000 / 60) % 60));\n      setSeconds(Math.floor((time / 1000) % 60));\n    }\n  };\n\n  useEffect(() => {\n    setInterval(() => getTimeUntil(deadline), 1000);\n\n    return () => getTimeUntil(deadline);\n  }, [deadline]);\n\n  return (\n    <div>\n      <h5 className=\"Clock-days\">{leading0(days)} Days</h5>\n      <h5 className=\"Clock-hours\">{leading0(hours)} Hours</h5>\n      <h5 className=\"Clock-minutes\">{leading0(minutes)} Minutes</h5>\n      <h5 className=\"Clock-seconds\">{leading0(seconds)} Seconds</h5>\n    </div>\n  );\n};\n\nexport default Clock;\n","import React, { useState } from \"react\";\nimport Clock from \"./Clock.component\";\n\nconst CountDown = (props) => {\n  // let deadline = \"march, 7, 2022\";\n\n\n  return (\n    <div className=\"App\">\n      \n      <Clock deadline={props.deadline} />\n    </div>\n  );\n};\n\nexport default CountDown;\n","import React, {\n\tuseContext,\n\tuseEffect,\n\tuseState,\n} from \"react\"\nimport { PartyContext } from \"../../utils/partycontext\"\nimport { useQuery } from \"@apollo/client\"\nimport { WEDDING_QUERY } from \"../../utils/queries\"\n\nimport { useHistory } from \"react-router-dom\"\nimport { magic } from \"../../lib/magic\"\nimport { UserContext } from \"../../lib/UserContext\"\nimport Auth from \"../../utils/auth\"\nimport CountDown from \"../countdown/Count.component\"\nimport \"./viewweddingstyle.css\"\n\n\n// import Loading from './loading';\nconst Callback = (props) => {\n\tconst history = useHistory()\n\n\tconst [user, setUser] = useContext(UserContext)\n\tconst [organiserState, setOrganiserState] = useState(null)\n\tconst [currentUser, setCurrentUser] = useState(null)\n\tconst [currentID, setCurrentID] = useState(null)\n\n\tuseEffect(() => {\n\t\tconst { organiser } = Auth.loggedIn()\n\t\tconsole.log(\n\t\t\t\"this is the organiser from local storage\",\n\t\t\torganiser\n\t\t)\n\t\tsetCurrentUser(organiser.username)\n\t\tsetCurrentID(organiser._id)\n\t}, [])\n\n\tconsole.log(\"the currentUser is \", currentUser)\n\tconsole.log(\"the current ID is\", currentID)\n\t// function ViewWedding() {}\n\n\t// `loginWithCredential()` returns a didToken for the user logging in\n\tconst finishEmailRedirectLogin = () => {\n\t\tconst magicCredential = new URLSearchParams(\n\t\t\tprops.location.search\n\t\t).get(\"magic_credential\")\n\t\tif (magicCredential)\n\t\t\tmagic.auth\n\t\t\t\t.loginWithCredential()\n\t\t\t\t.then((didToken) =>\n\t\t\t\t\tauthenticateWithServer(didToken)\n\t\t\t\t)\n\t}\n\n\t// Send token to server to validate\n\tconst authenticateWithServer = async (didToken) => {\n\t\tconst res = await fetch(\n\t\t\t`${process.env.REACT_APP_SERVER_URL}/api/login`,\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\tAuthorization: \"Bearer \" + didToken,\n\t\t\t\t},\n\t\t\t}\n\t\t)\n\n\t\tif (res.status === 200) {\n\t\t\t// Set the UserContext to the now logged in user\n\t\t\tconst userMetadata = await magic.user.getMetadata()\n\t\t\tawait setUser(userMetadata)\n\t\t\t//   history.push('/profile');\n\t\t}\n\t}\n\n\tconst { loading, data } = useQuery(WEDDING_QUERY)\n\tif (loading) {\n\t\treturn <p> loading ...</p>\n\t}\n\n\tconsole.log(\n\t\t\"the wedding data from wedding query is\",\n\t\tdata\n\t)\n\t\t\n\tconst weddingData = data.weddings.filter((wedding) => {\n\t\t// const weddingID = \"61110f69077f5da76492affa\"\n\t\treturn wedding.wedding_owner == currentUser\n\t})\n\n\tconsole.log(\"the wedding data is \", data.weddings)\n\tconsole.log(\"the filtered wedding data is \", weddingData)\n\treturn (\n\t\t<div className=\"bigcontainer\">\n\t\t\t<h1> Welcome to your wedding</h1>\n\n\t\t\t<div>\n\t\t\t\t{weddingData.map((wedding) => (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h2 className=\"heading\" style={{marginBottom: \"5vh\"}}>{wedding.bride_first_name} & {wedding.groom_first_name}</h2>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p>you are getting married on</p>\n\t\t\t\t\t\t<h3 style={{marginBottom: \"5vh\"}}>{wedding.date}</h3>\n\t\t\t\t\t\t<p>that's in</p>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<CountDown style={{marginBottom: \"5vh\"}} deadline={wedding.date} />\n\t\t\t\t\t\t<p> You have invited your friends and family to join you at </p>\n\t\t\t\t\t\t<h3>{wedding.venue}</h3>\n\t\t\t\t\t\t<p> and you have offered them a menu choice of</p>\n\t\t\t\t\t\t<h2>{wedding.menu_choice}</h2>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Callback\n","export default __webpack_public_path__ + \"static/media/rose.bcee8332.png\";","export default __webpack_public_path__ + \"static/media/gl.f232ed18.jpg\";","export default __webpack_public_path__ + \"static/media/loc.d6d1f7fc.jpg\";","export default __webpack_public_path__ + \"static/media/clock.46432272.jpg\";","import React, { useState, useEffect } from \"react\"\nimport \"../vendor/bootstrap.css\"\nimport { useMutation, useQuery } from \"@apollo/client\"\nimport { WEDDING_QUERY, GUEST_QUERY } from \"../utils/queries\"\nimport \"./guestlanding.css\"\nimport gl from \"../gl.jpg\"\nimport loc from \"../loc.jpg\"\nimport clock from \"../clock.jpg\"\nimport CountDown from \"../components/countdown/Count.component\"\nimport { UPDATE_RSVP, UPDATE_MENU } from \"../utils/mutations\"\n\nfunction GuestLanding() {\n  const [rsvpState, setRsvpState] = useState(null)\n  const [menuState, setMenuState] = useState(null)\n  const [correctGuest, setCorrectGuest] = useState([])\n  const [loader, setloader] = useState(false)\n  const [weddingResult, setweddingResult] = useState([])\n\n  const searchWedding = useQuery(WEDDING_QUERY)\n  console.log(\"all the weddings are :: \", searchWedding.data)\n\n  // to retreive guest email from local storage\n  const guestEmail = localStorage.getItem(\"guest\")\n  console.log(\"the stored email is \", guestEmail)\n\n  const [update_rsvp, { error }] = useMutation(UPDATE_RSVP)\n  const [update_menu] = useMutation(UPDATE_MENU)\n\n  // search guest list for matching email\n  const { loading, data } = useQuery(GUEST_QUERY)\n  useEffect(() => {\n    if (data) {\n        setloader(true)\n      const correctGuestResult = data.guests.filter((guest) => {\n        // return guest.email === guestEmail\n        return guest\n      })\n      \n    \n      if(correctGuestResult.length){\n          \n          const wedding_owner = correctGuestResult[0].wedding_owner\n          const correctWedding = searchWedding && searchWedding.data.weddings.filter((wedding) => {\n              return wedding.wedding_owner == wedding_owner\n            })\n            \n            setCorrectGuest(correctGuestResult)\n            setweddingResult(correctWedding)\n            setloader(false)\n        }else{\n\n            setloader(false)\n        }\n    }\n  }, [data])\n\n  if (loader) {\n    return <p>loading</p>\n  }\n\n  //   useEffect(() => {\n  //     console.log(\"USFEEFFEC T WORKING --- \", searchWedding.data)\n  //   }, [searchWedding.data])\n\n  //   if (correctGuest.length) {\n  //     console.log(\"the correct guest is \", correctGuest)\n  //     console.log(\"the guest name is\", correctGuest[0].name)\n  //   }\n\n  // settin wedding owner based on logged in guest\n\n  //   console.log(\"the wedding owner is\", wedding_owner)\n\n  // / filter wedding according to wedding owner\n\n  // console.log(\"the correct wedding is\", correctWedding)\n\n  // setgroom(correctWedding[0].groom_first_name)\n  // setbride(correctWedding[0].bride_first_name)\n  // setweddingdate(correctWedding[0].date)\n  // setlocation(correctWedding[0].venue)\n  //   console.log(\"the bride and groom are\", bride, groom)\n\n  console.log(\"menu options as \")\n\n  const handleInput = (event) => {\n    console.log(\"what is the rsvp choice \", event.target.value)\n    setRsvpState(event.target.value)\n  }\n\n  const handleInputFood = (event) => {\n    console.log(\"what is the food\", event.target.value)\n    setMenuState(event.target.value)\n  }\n\n  console.log(\"the rsvp state=\", rsvpState)\n  console.log(\"the menustate is\", menuState)\n  // const email = correctGuest[0].email\n\n  // console.log(\"the emai is \", email)\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    const email = correctGuest[0].email\n\n    console.log(\"the emai is \", email)\n    try {\n      const { data } = await update_rsvp({\n        variables: {\n          rsvp: rsvpState,\n          email: email,\n        },\n      })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  const handleSubmitFood = async (e) => {\n    e.preventDefault()\n    const email = correctGuest[0].email\n\n    console.log(\"the emai is \", email)\n    try {\n      const { data } = await update_menu({\n        variables: {\n          menu: menuState,\n          email: email,\n        },\n      })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  return (\n    <div className=\"bg container content d-flex flex-row p-2 justify-content-between\">\n          {\n              weddingResult.length  ? \n      <div className=\"container content d-flex flex-row p-2 justify-content-between\">\n              <div className=\"row\">\n          <div className=\"col-sm- talk\">\n            <h1>\n              {weddingResult.length && weddingResult[0].bride_first_name} &{\" \"}\n              {weddingResult.length && weddingResult[0].groom_first_name}\n            </h1>\n            <h1>would love to welcome you to their wedding</h1>\n            <h1>{weddingResult.length && weddingResult[0].name}</h1>\n            <br />\n            <img className=\"img\" src={gl}></img>\n\n            <div className=\"container content d-flex flex-column p-2\">\n              <form className=\"mb-5\" onSubmit={handleSubmit}>\n                <h1>\n                  <label for=\"Menu\">Please RSVP</label>\n                </h1>\n                <select id=\"rsvp\" name=\"rsvp\" onChange={handleInput}>\n                  <option value=\"choose\">Choose</option>\n                  <option value=\"yes\">Yes</option>\n                  <option value=\"no\">No</option>\n                </select>\n                <input type=\"submit\" value=\"Submit\" />\n              </form>\n\n              <form onSubmit={handleSubmitFood}>\n                <h1>\n                  <label for=\"Menu\">Choose your preferred Menu:</label>\n                </h1>\n                <select id=\"menu\" name=\"mwnu\" onChange={handleInputFood}>\n                  <option vlaue=\"choose\"> Choose</option>\n                  <option value=\"vegan\">Vegan</option>\n                  <option value=\"vegeterian\">Vegeterian</option>\n                  <option value=\"meat\">Meat</option>\n                </select>\n                <input type=\"submit\" value=\"Submit\" />\n              </form>\n\n              <div className=\"container content d-flex flex-column p-2\">\n                <h1>\n                  We will Celebrate it at:\n                  <br />\n                  {weddingResult.length && weddingResult[0].location}\n                </h1>\n\n                <img className=\"location\" src={loc}></img>\n                <br />\n\n                <h1>\n                  On <br /> {weddingResult.length && weddingResult[0].date}\n                </h1>\n                <br />\n                <h6 className=\"bold-four\">\n                  We would love it if you could join us in our celebration.\n                  Please RSVP above to let us know. If you have any seperate\n                  diatery requirements please send us a message and we will do\n                  our best to accomnodate them.\n                </h6>\n                <img src={clock} className=\"clock\" />\n                <br />\n\n                <h1>COUNTDOWN</h1>\n                {\n                    weddingResult.length &&\n                <CountDown\n                deadline={weddingResult[0].date}\n                />\n            }\n              </div>\n            </div>\n          </div>\n        </div> \n      </div>\n        : null\n        }\n      </div>\n      )\n}\n\nexport default GuestLanding\n","import React from \"react\"\r\nimport Auth from \"../utils/auth\"\r\n\r\nconst couplelogout=()=>{\r\n    Auth.logout()\r\n}\r\n\r\n const MenuItems=[\r\n    {\r\n        label:'Home',\r\n        url:'/',\r\n        cName:'nav-links'\r\n    },\r\n    {\r\n        label:'Guest login',\r\n        url:'/login',\r\n        cName:'nav-links'\r\n    },\r\n    {\r\n        label:'Couple login',\r\n        url:'/home',\r\n        cName:'nav-links'\r\n    },\r\n   \r\n    {\r\n        label:'Signup',\r\n        url:'/createuser',\r\n        cName:'nav-links'\r\n    },\r\n  \r\n\r\n]\r\n\r\nconst CoupleMenuItem =  [\r\n    {\r\n        label:'My Guests',\r\n        url:'/guests',\r\n        cName:'nav-links'\r\n    },\r\n    {\r\n        label:'Wedding',\r\n        url:'/viewwedding',\r\n        cName:'nav-links'\r\n    },\r\n    {\r\n        label:'Create Wedding',\r\n        url:'/createwedding',\r\n        cName:'nav-links'\r\n    }\r\n  \r\n]\r\n\r\nconst GuestMenuItem = [\r\n    {\r\n        label:'Wedding',\r\n        url:'/guestlanding',\r\n        cName:'nav-links'\r\n    },\r\n  \r\n]\r\n\r\nexport  {\r\n    MenuItems,\r\n    GuestMenuItem,\r\n    CoupleMenuItem\r\n}","import React, { useContext, useState, useEffect } from \"react\"\r\nimport { MenuItems, GuestMenuItem, CoupleMenuItem } from \"./items\"\r\nimport \"./nav2.css\"\r\nimport Auth from \"../utils/auth\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport { Link, useLocation } from \"react-router-dom\"\r\nimport { magic } from \"../lib/magic\"\r\nimport { UserContext } from \"../lib/UserContext\"\r\nimport rose from \"../rose.png\"\r\n\r\n\r\nfunction Nav2() {\r\n  const [clicked, setClick] = useState(false)\r\n  const [userType, setUserType] = useState(\"\")\r\n  const history = useHistory()\r\n  const [user, setUser] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    // if (user) {\r\n    let isUser = localStorage.getItem(\"user\")\r\n    let guestUser = localStorage.getItem(\"guest\")\r\n    if (isUser) {\r\n      console.log(\"USER \", isUser, localStorage.getItem(\"user\"))\r\n      setUserType(\"couple\")\r\n    }\r\n    else if(guestUser){\r\n      setUserType(\"guest\")\r\n    }\r\n    // }\r\n  })\r\n\r\n  // Location = () =>useLocation()\r\n  // History =()=> useHistory()\r\n\r\n  const couplelogout = (e) => {\r\n    e.preventDefault()\r\n    Auth.logout()\r\n    console.log(\"LINE NO #666 \", localStorage.getItem(\"user\"))\r\n    setUserType(\"\")\r\n    history.push(\"/\")\r\n  }\r\n\r\n  const guestlogout = (e) => {\r\n    e.preventDefault()\r\n    Auth.logout()\r\n    setUserType(\"\")\r\n    history.push(\"/\")\r\n    // localStorage.removeItem(\"guest\")\r\n  }\r\n  \r\n\r\n  const handleClick = () => {\r\n    setClick(!clicked)\r\n  }\r\n\r\n  return (\r\n    \r\n    <nav className=\"NavBarItems\" role=\"navigation\">\r\n      <div className=\"logo\">\r\n          <Link to=\"/\">\r\n            <img className=\"rose\"\r\n              src={rose}\r\n              alt=\"brand\"\r\n            />\r\n          </Link>\r\n          </div>\r\n      {/* <h1 className=\"navbar-logo\" href=\"/\"> <i className=\"fas fa-fan\"></i></h1> */}\r\n      <div className=\"menu-icon\" onClick={handleClick}>\r\n        <i className={clicked ? \"fas fa-times\" : \"fas fa-bars\"}></i>\r\n      </div>\r\n      <ul className={clicked ? \"nav-menu active\" : \"nav-menu\"}>\r\n        {userType === \"\" &&\r\n          MenuItems.map((item, index) => {\r\n            return (\r\n              <li onClick={() => setClick(false)} kew={index}>\r\n                \r\n                <Link className={item.cName} to={item.url}>\r\n                  {item.label}\r\n                </Link>\r\n              </li>\r\n            )\r\n          })}\r\n        {userType === \"couple\" &&\r\n          CoupleMenuItem.map((item, index) => {\r\n            return (\r\n              <li onClick={() => setClick(false)} key={index}>\r\n                <Link className={item.cName} to={item.url}>\r\n                  {item.label}\r\n                </Link>\r\n              </li>\r\n            )\r\n          })}\r\n        {userType == \"couple\" && (\r\n          <li onClick={() => setClick(false)} className=\"nav-links\" onClick={couplelogout}>\r\n            Couple Logout\r\n          </li>\r\n        )}\r\n\t\t {userType === \"guest\" &&\r\n          GuestMenuItem.map((item, index) => {\r\n            return (\r\n              <li onClick={() => setClick(false)} key={index}>\r\n                <Link className={item.cName} to={item.url}>\r\n                  {item.label}\r\n                </Link>\r\n              </li>\r\n            )\r\n          })}\r\n        {userType == \"guest\" && (\r\n          <li onClick={() => setClick(false)} className=\"nav-links\" onClick={guestlogout}>\r\n            Guest Logout\r\n          </li>\r\n        )}\r\n        {/* <li className=\"nav-links\" onClick={couplelogout}>\r\n\t\t\t\t\t\tLogout\r\n\t\t\t\t\t</li>\r\n\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<a className=\"nav-links\" href=\"/login\">Guest Login</a>\r\n\t\t\t\t\t</li>\r\n\r\n                    <li className=\"nav-links\" onClick={guestlogout}>\r\n                        Guest Logout\r\n                    </li>  */}\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default Nav2\r\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\n\nconst PublicRoute = ({ component: Component, restricted, ...rest }) => {\n  return (\n    <Route\n      {...rest}\n      render={(props) => {\n     \n        if (localStorage.getItem(\"guest\")) {\n          return <Redirect to={`/guestlanding`} />\n        } else if (localStorage.getItem(\"user\")) {\n          return <Redirect to=\"/guests\" />\n        } else {\n          \n          return <Component {...props} />\n        }\n      }}\n    />\n  )\n}\n\nexport default PublicRoute\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\n\nconst PrivateRouteGuest = ({ component: Component, ...rest }) => {\n  return (\n    // Show the component only when the user is logged in\n    // Otherwise, redirect the user to /signin page\n    <Route\n      {...rest}\n      render={(props) => {\n        if (localStorage.getItem(\"guest\")) {\n          return <Component {...props} />\n        } else {\n          //   alert(\"else workign\")\n\n          return <Redirect to=\"/\" />\n        }\n      }}\n    />\n  )\n}\n\nexport default PrivateRouteGuest\n","import React from \"react\"\nimport { Route, Redirect } from \"react-router-dom\"\n\nconst PrivateRouteCouple = ({ component: Component, ...rest }) => {\n  return (\n    // Show the component only when the user is logged in\n    // Otherwise, redirect the user to /signin page\n    <Route\n      {...rest}\n      render={(props) => {\n        if (localStorage.getItem(\"user\")) {\n            \n          return <Component {...props} />\n        } else {\n        //   alert(\"else workign\")\n\n          return <Redirect to=\"/\" />\n        }\n      }}\n    />\n  )\n}\n\nexport default PrivateRouteCouple\n","import React, { useState, useContext, useMemo, useEffect } from \"react\"\nimport {\n  BrowserRouter as Router,\n  Route,\n  HashRouter,\n  Switch,\n} from \"react-router-dom\"\nimport \"./App.css\"\nimport CreateWedding from \"./components/createwedding/createwedding.form\"\nimport Guests from \"./components/Guests\"\nimport Home from \"./components/Home\"\nimport Createuser from \"./components/createuser\"\nimport Login from \"./components/login\"\nimport Header from \"./components/header\"\nimport { magic } from \"./lib/magic\"\nimport { UserContext } from \"./lib/UserContext\"\nimport Landing from \"./components/landing/landing.page\"\nimport ViewWedding from \"./components/viewwedding/viewwedding.page\"\nimport {\n  ApolloClient,\n  ApolloProvider,\n  createHttpLink,\n  InMemoryCache,\n} from \"@apollo/client\"\nimport { setContext } from \"@apollo/client/link/context\"\nimport { PartyProvider, usePartyContext } from \"./utils/partycontext\"\nimport Auth from \"./utils/auth\"\nimport NavBar from \"./components/NavBar\"\nimport GuestLanding from \"./components/GuestLanding\"\nimport { slide as Menu } from \"react-burger-menu\"\nimport createuser from \"./components/createuser\"\nimport Nav3 from \"./components/Nav3\"\nimport PublicRoute from \"./route/publicRoute\"\nimport PrivateRouteGuest from \"./route/privateRouteGuest\"\nimport PrivateRouteCouple from \"./route/privateRouteCouple\"\n\nconst httpLink = createHttpLink({\n  uri: process.env.REACT_APP_SERVER_URL || \"/graphql\",\n  // credentials: \"same-origin\"\n})\n\nconst authLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const token = localStorage.getItem(\"id_token\")\n  // const localUser = localStorage.getItem(\"user\")\n  // \tconst organiser = JSON.parse(localUser)\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      authorization: token ? `Bearer ${token}` : \"\",\n    },\n  }\n})\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n})\n\nfunction App() {\n  const partycontext = usePartyContext()\n  console.log(\"party context=\", partycontext)\n  const [user, setUser] = useState()\n  const [openMenu, setOpenMenu] = useState(false)\n  useEffect(() => {\n    const { organiser } = Auth.loggedIn()\n    console.log(\"this is the organiser from local storage\", organiser)\n  }, [])\n  // If isLoggedIn is true, set the UserContext with user data\n  // Otherwise, set it to {user: null}\n  useEffect(() => {\n    setUser({ loading: true })\n    magic.user.isLoggedIn().then((isLoggedIn) => {\n      return isLoggedIn\n        ? magic.user.getMetadata().then((userData) => setUser(userData))\n        : setUser({ user: null })\n    })\n  }, [])\n\n  return (\n    <ApolloProvider client={client}>\n      <PartyProvider>\n        <UserContext.Provider value={[user, setUser]}>\n          <Router>\n            <HashRouter>\n              \n                <Nav3 />\n                <PublicRoute path=\"/\" exact component={Landing} />\n                <PublicRoute exact path=\"/home\" component={Home} />\n                <PublicRoute  path=\"/login\" component={Login} />\n                <PrivateRouteGuest exact path=\"/guestlanding\" component={GuestLanding} />\n                <PrivateRouteCouple exact path=\"/guests\" component={Guests} />\n                <PrivateRouteCouple exact path=\"/createwedding\" component={CreateWedding} />\n                <PrivateRouteCouple exact path=\"/viewwedding\" component={ViewWedding} />\n                <PublicRoute exact path=\"/createuser\" component={createuser} />\n            \n            </HashRouter>\n          </Router>\n        </UserContext.Provider>\n      </PartyProvider>\n    </ApolloProvider>\n  )\n}\n// only changes provider value if one of the params change (may need to remove)\n// const value = useMemo(()=>({organiser, setOrganiser}),[organiser,setOrganiser])\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}